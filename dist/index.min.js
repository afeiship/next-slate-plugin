/*!
 * name: @jswork/next-slate-plugin
 * description: Slate plugin manager.
 * homepage: https://github.com/afeiship/next-slate-plugin
 * version: 1.0.16
 * date: 2021-12-13 09:40:26
 * license: MIT
 */
!function(){var e="undefined"!=typeof window?window:this||Function("return this")(),r=e.nx||require("@jswork/next"),t=r.deepAssign||require("@jswork/next-deep-assign"),n=r.bind||require("@jswork/next-bind"),i=r.SlateDefaults||require("@jswork/next-slate-defaults"),o=e.slate||require("slate"),u=e.isHotkey||require("is-hotkey").default,s=o.Element,a=o.Editor,d={id:null,meta:{title:null,description:null},hotkey:null,decorator:r.stubValue,serialize:{input:r.noop,output:i.output},statics:{},commands:{is:function(e){if(!e)return!1;var t=this.id,e=a.marks(e),t=!!e&&e[t];return Boolean(t)},isHotkey:function(e){var t=this.hotkey;return!!t&&u(t,e)},activate:function(e,t){var n;e&&(n=this.id,a.addMark(e,n,t))},deactivate:function(e){var t;e&&(t=this.id,a.removeMark(e,t))},toggle:function(e,t){var n;e&&((n=this.commands).is(e)?n.deactivate(e):n.activate(e,t))}},events:{keydown:function(e,t){var n=e.editor,e=this.commands;e.isHotkey(t)&&(t.preventDefault(),e.toggle(n,!0))}},render:r.noop},i=r.declare("nx.SlatePlugin",{statics:{define:function(e){e=t(null,d,e);return n(e,e.serialize,e.commands,e.events,e.statics)},actived:function(t,n){if(s.isElement(t))return n.find(function(e){return e.id===t.type});var i=[];return r.forIn(t,function(t,e){"text"===t||!e||(e=n.find(function(e){return e.id===t}))&&i.push(e)}),i}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();