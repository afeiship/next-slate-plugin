/*!
 * name: @jswork/next-slate-plugin
 * description: Slate plugin manager.
 * homepage: https://github.com/afeiship/next-slate-plugin
 * version: 1.0.10
 * date: 2021-02-07 11:06:26
 * license: MIT
 */
!function(){var e="undefined"!=typeof window?window:this||Function("return this")(),r=e.nx||require("@jswork/next"),t=r.deepAssign||require("@jswork/next-deep-assign"),n=r.bind||require("@jswork/next-bind"),i=r.SlateDefaults||require("@jswork/next-slate-defaults"),o=(e.slate||require("slate")).Element,u={id:null,meta:{title:null,description:null},hotkey:null,decorator:r.stubValue,serialize:{input:r.noop,output:i.exporter},statics:{},commands:{is:function(e){e=Editor.marks(e),e=!!e&&e[id];return Boolean(e)},isHotkey:function(e){return!!hotkey&&isHotkey(hotkey,e)},activate:(e,t)=>{Editor.addMark(e,id,t)},deactivate:function(e){Editor.removeMark(e,id)},toggle:function(e,t){var n=plugin.commands;n.is()?n.deactivate(e):n.activate(e,t)}},events:{keydown:function(e,t){var n=e.editor,e=plugin.commands;e.isHotkey(t)&&(t.preventDefault(),e.toggle(n,!0))}},render:r.noop},i=r.declare("nx.SlatePlugin",{statics:{define:function(e){e=t(null,u,e);return n(e,e.serialize,e.commands,e.events,e.statics)},actived:function(t,n){if(o.isElement(t))return n.find(function(e){return e.id===t.type});var i=[];return r.forIn(t,(t,e)=>{"text"===t||!e||(e=n.find(function(e){return e.id===t}))&&i.push(e)}),i}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();