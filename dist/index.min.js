/*!
 * name: @jswork/next-slate-plugin
 * description: Slate plugin manager.
 * homepage: https://github.com/afeiship/next-slate-plugin
 * version: 1.0.13
 * date: 2021-02-07 12:07:51
 * license: MIT
 */
!function(){var e="undefined"!=typeof window?window:this||Function("return this")(),r=e.nx||require("@jswork/next"),t=r.deepAssign||require("@jswork/next-deep-assign"),n=r.bind||require("@jswork/next-bind"),i=r.SlateDefaults||require("@jswork/next-slate-defaults"),o=e.slate||require("slate"),s=e.isHotkey||require("is-hotkey").default,u=o.Element,a={id:null,meta:{title:null,description:null},hotkey:null,decorator:r.stubValue,serialize:{input:r.noop,output:i.exporter},statics:{},commands:{is:function(e){var t=this.id,e=Editor.marks(e),t=!!e&&e[t];return Boolean(t)},isHotkey:function(e){var t=this.hotkey;return!!t&&s(t,e)},activate:(e,t)=>{var n=this.id;Editor.addMark(e,n,t)},deactivate:function(e){var t=this.id;Editor.removeMark(e,t)},toggle:function(e,t){var n=this.commands;n.is(e)?n.deactivate(e):n.activate(e,t)}},events:{keydown:function(e,t){var n=e.editor,e=this.commands;e.isHotkey(t)&&(t.preventDefault(),e.toggle(n,!0))}},render:r.noop},i=r.declare("nx.SlatePlugin",{statics:{define:function(e){e=t(null,a,e);return n(e,e.serialize,e.commands,e.events,e.statics)},actived:function(t,n){if(u.isElement(t))return n.find(function(e){return e.id===t.type});var i=[];return r.forIn(t,(t,e)=>{"text"===t||!e||(e=n.find(function(e){return e.id===t}))&&i.push(e)}),i}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();